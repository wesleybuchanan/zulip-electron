<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="css/about.css">
	</head>
	<body>
	<div class="about">
		<img class="logo" src="../resources/zulip.png" />
		<p class="detail" id="version">v?.?.?</p>
		<div class="maintenance-info">
			<p class="detail maintainer">
				Maintained by <a onclick="linkInBrowser('website')">Zulip</a>
			</p>
			<p class="detail license">
				Available under the <a onclick="linkInBrowser('license')">Apache 2.0 License</a>
			</p>
			<a class="bug" onclick="linkInBrowser('bug')" href="#">Found bug?</a>
		</div>
	</div>
	<script>

	const { app } = require('electron').remote;
	const { shell } = require('electron');
	const version_tag = document.querySelector('#version');
	version_tag.innerHTML = 'v' + app.getVersion();

	function linkInBrowser(type) {
		let url;
		switch (type) {
			case 'website': 
				url = "https://zulipchat.com";
				break;
			case 'license': 
				url = "https://github.com/zulip/zulip-electron/blob/master/LICENSE";
				break;
			default:
				url = 'https://github.com/zulip/zulip-electron/issues/new?body=' + 
				      '%3C!--Please%20describe%20your%20issue%20and%20steps%20to%20reproduce%20it.--%3E';
		}
		shell.openExternal(url);
	}
	</script>
	</body>
</html>
